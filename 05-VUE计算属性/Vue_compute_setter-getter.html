<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Vue.js 计算属性的setter和getter</title>
</head>

<body>
    <div id="app_computeComplex">
        <h2>总价:{{totalPrice}}</h2>
        <h2>{{fullName}}</h2>


    </div>
    <script src="./js/vue.js"></script>
    <script>
        const app = new Vue({
            el: "#app_computeComplex",
            data: {
                books: [
                    { id: 100, bookName: "C语言", price: 120 },
                    { id: 101, bookName: "java语言", price: 130 },
                    { id: 102, bookName: "javaScript语言", price: 140 },
                    { id: 103, bookName: "python语言", price: 150 },
                    { id: 104, bookName: "goLong语言", price: 160 },
                ],
                firstName: "张小豆",
                lastName: "吕懒懒"
            },
            computed: {
                totalPrice: function () {
                    // ES5语法
                    let result = 0
                    // for (let i = 0; i < this.books.length; i++) {
                    //     result += this.books[i].price
                    // }
                    // ES6的语法一
                    // for (let i in this.books){
                    //     result +=this.books[i].price
                    // }
                    // ES6的语法二
                    for (let book of this.books) {
                        result += book.price
                    }
                    return result
                },
                // fullName :function(){
                //     return this.firstName + " " + this.lastName
                // }
                // 完整的对象属性:fullName是个对象,对象中有set和get方法
                // 一般没有set方法,仅有只读属性,set属于设置,set方法可以对原有的值进行改变
                // 可以在控制台中检查计算属性的get和set属性
                // 计算属性不能加小括号
                

                fullName: {
                    set: function (newValue) {
                        console.log("------",newValue);
                        const names=newValue.split(" ");
                        this.firstName=names[0]
                        this.lastName=names[1]

                    },
                    get: function () {
                        return this.firstName + " " + this.lastName
                    }
                }
            }
        })
    </script>

</body>

</html>