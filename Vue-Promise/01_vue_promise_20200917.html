<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Promise的基本使用</title>
</head>
<body>
    <script>
        // 1.使用setTimeout
        // setTimeout(()=>{
        //     console.log('Hello,Promise');
        // },1000)
        // 2.使用Promise
        // 参数->函数(resolve,reject)
        // resolve,reject本身它们又是函数
        // 链式编程
        // new Promise((resolve,reject)=>{
        //     setTimeout(()=>{
        //     console.log('Hello,Promise_use1');
        //     setTimeout(()=>{
        //     console.log('Hello,Promise_use2');
        //     setTimeout(()=>{
        //     console.log('Hello,Promise_use3');
        // },1000)
        // },1000)
        // },1000)
        // })



        // new Promise((resolve,reject)=>{

        //     setTimeout(()=>{
            
        //     // 一旦使用resolve,resolve调用then这个函数
        //     // then也是一个函数
        //     resolve()
            
            
        // },1000)
        // }).then(()=>{
            
        //     console.log('Hello,Promise_use1');
        //     return new Promise((resolve,reject)=>{
        //         setTimeout(()=>{
        //             resolve()
        //         },1000)
        //     }).then(()=>{
        //         console.log('Hello,Promise_use2');
        //     })
        
        // })
        // 什么情况下使用Promis?
        // 一般情况下是异步操作,使用Promise对这个异步操作进行封装
        // Promise,new完后,实现TS的接口
        // new->构造函数,(1.保存了一些状态信息,2.执行传入的参数)
        // 在执行传入的回调函数时,传入两个参数resolve,reject,参数本身又是函数

        new Promise((resolve,reject)=>{
            // 这里只写请求代码,不写返回值的数据处理代码
            setTimeout(()=>{
                // 成功的时候调用resolve
                // resolve('hello Promise')
                // 失败的时候调用reject
                reject('error message')
                
            },1000)
        }).then((data)=>{
            // 1.100行处理data的代码
            console.log(data);
        }).catch((err)=>{
            console.log(err);
        })
    </script>
</body>
</html>